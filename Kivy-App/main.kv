<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'

        # Toolbar
        MDTopAppBar:
            title: 'Cinemeter'
            right_action_items: [['login', lambda x: app.root.current_screen.on_login_pre()]]  # Adjust as needed

        # Movie List
        ScrollView:
            MDList:
                id: movie_list_scrollview  # Updated ID name

<RatingScreen>:
    BoxLayout:
        orientation: 'vertical'

        # Toolbar
        MDTopAppBar:
            title: 'Rate Movie'
            left_action_items: [['arrow-left', lambda x: app.root.current_screen.on_pre_leave()]]  # Go back to HomeScreen

        # Movie Details
        BoxLayout:
            orientation: 'vertical'
            padding: '4dp'

            MDLabel:
                id: movie_title
                theme_text_color: 'Secondary'
                halign: "center"


            MDLabel:
                id: movie_info
                theme_text_color: 'Primary'
                halign: "center"

        # Rating and Review Section
        BoxLayout:
            orientation: 'vertical'
            padding: '4dp'

            # Slider for rating input
            MDSlider:
                id: rating_slider
                min: 0
                max: 10
                step: 0.5
                value: 5  # Initial value
                on_value: app.root.current_screen.update_rating_label()

            # Label to display current rating value
            MDLabel:
                id: rating_label
                text: f"Current Rating: {rating_slider.value}"
                theme_text_color: 'Primary'
                halign: "center"

            # Review input field
            MDTextField:
                id: review_input
                hint_text: 'Write your review...'
                max_text_length: 2000  # Adjust as needed
                mode: 'fill'

            # Button to submit the rating
            MDRaisedButton:
                text: 'Submit Rating'
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release: app.root.current_screen.submit_rating()


<LoginScreen>:
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: 'Login'
            elevation: 10
            left_action_items: [['arrow-left', lambda x: app.root.current_screen.on_pre_leave()]]  # Go back to the previous screen

        TextInput:
            id: username_input
            hint_text: 'Username'
            multiline: False
            padding: [10, 10]
            size_hint_y: None
            height: "40dp"

        TextInput:
            id: password_input
            hint_text: 'Password'
            multiline: False
            password: True
            padding: [10, 10]
            size_hint_y: None
            height: "40dp"

        MDRaisedButton:
            text: 'Login'
            on_release: app.root.current_screen.login()

        MDLabel:
            id: login_result_label
            theme_text_color: 'Secondary'